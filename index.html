<!DOCTYPE HTML>
<HTML>
<HEAD>
<TITLE>My Page</TITLE>
<script type="text/javascript" src="static/wgo/wgo.js"></script> <!--static ssibal ssaeggiya-->
<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">-->
</HEAD>
<BODY>

<!--
	<select id="tool" style="display: block; margin-bottom: 10px;">
		<option value="black" selected>Black stone
-->
<div id="board"></div>
<H1>Test String</H1>

<button id=b1 onclick="reset()">Reset</button>
<button id=b2 onclick="goback()" >Go Back</button>

<script type="text/javascript">
var board = new WGo.Board(document.getElementById("board"), {
	width: 600	
});

board.addEventListener("click", function(x, y){
	board.addObject({x:x, y:y, c:WGo.B});
	
	var xmlHttp = new XMLHttpRequest();
	xmlHttp.onreadystatechange = function () {
	if (this.status == 200 && this.readyState == this.DONE) {
	    var row, col;
		tmp = xmlHttp.responseText;
		console.log(tmp)
		//alert(xmlHttp.responseText);
		row = tmp.split("&")[0].split("=")[1]
		col = tmp.split("&")[1].split("=")[1]
		alert(row)
		alert(col)
		board.addObject({x:col, y:row, c:WGo.W});
		}
	}
	xmlHttp.open('GET', '/move?row='+y+'&col='+x, true);
	xmlHttp.send();
	
	
});
function reset(){
	var xmlHttp = new XMLHttpRequest();
	xmlHttp.onreadystatechange = function () {
	if (this.status == 200 && this.readyState == this.DONE) {
		console.log(xmlHttp.responseText);
		}
	}
	xmlHttp.open('GET', '/reset?a=b', true);
	xmlHttp.send();
	board.removeAllObjects();
}


</script>
</BODY>
</HTML>

